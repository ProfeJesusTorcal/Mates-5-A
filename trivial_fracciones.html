<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivial Interactivo de Fracciones</title>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Fuente más común */
            line-height: 1.6;
            margin: 0; /* Eliminar margen por defecto */
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%); /* Fondo con gradiente vibrante */
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Ocupar toda la altura de la ventana */
            padding: 20px; /* Añadir padding para pantallas pequeñas */
            box-sizing: border-box; /* Incluir padding en el tamaño total */
        }
        .container {
            max-width: 700px; /* Aumentar un poco el ancho */
            width: 95%; /* Ancho responsivo */
            background: #fff;
            padding: 40px; /* Más padding */
            border-radius: 15px; /* Bordes más redondeados */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3); /* Sombra más pronunciada */
            text-align: center;
        }
        h1 {
            color: #833ab4; /* Color vibrante para el título */
            margin-bottom: 30px; /* Más espacio debajo del título */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1); /* Sombra leve en el texto */
        }
        #question-area {
            min-height: 180px; /* Espacio reservado */
            margin-bottom: 25px; /* Más espacio */
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px; /* Bordes redondeados */
            background-color: #f0f4f8; /* Fondo suave para la pregunta */
            text-align: left;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.1); /* Sombra interior suave */
        }
        #question-area p {
             margin-bottom: 20px;
             font-size: 1.2em; /* Tamaño de fuente más grande */
             font-weight: bold;
             color: #333;
        }
        .question-image {
            max-width: 100%; /* La imagen no excede el ancho del contenedor */
            height: auto; /* Mantener la proporción */
            margin-bottom: 15px; /* Espacio debajo de la imagen */
            border-radius: 8px; /* Bordes redondeados para la imagen */
            display: block; /* Para centrarla si es necesario */
            margin-left: auto;
            margin-right: auto;
        }
        .options label {
            display: block;
            margin-bottom: 12px; /* Más espacio entre opciones */
            padding: 12px; /* Más padding */
            border: 2px solid #007bff; /* Borde azul vibrante */
            border-radius: 8px; /* Bordes redondeados */
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            background-color: #e9f5ff; /* Fondo azul claro */
            color: #0056b3; /* Color de texto azul oscuro */
            font-size: 1.1em;
            text-align: center; /* Centrar texto de opciones */
        }
         .options label:hover {
             background-color: #cce5ff; /* Fondo azul más oscuro al pasar el ratón */
             border-color: #0056b3;
         }
        .options input[type="radio"] {
            margin-right: 10px;
            vertical-align: middle;
             display: none; /* Ocultar el radio button nativo */
        }

         /* Estilo para la opción seleccionada */
         .options input[type="radio"]:checked + label {
             background-color: #007bff;
             color: white;
             border-color: #0056b3;
         }


        /* Estilos para feedback */
        #feedback {
            margin-top: 20px;
            font-size: 1.3em; /* Tamaño de fuente más grande */
            font-weight: bold;
            min-height: 1.8em; /* Reservar espacio */
            text-align: center;
        }
        #feedback.correct {
             color: #28a745; /* Verde vibrante */
        }
        #feedback.incorrect {
             color: #dc3545; /* Rojo vibrante */
        }

        #explanation {
            margin-top: 15px;
            font-size: 1em;
            color: #555;
            text-align: left;
            padding: 10px;
            border-top: 1px solid #ccc;
        }


        #score {
            font-size: 1.4em; /* Tamaño de fuente más grande */
            margin-top: 25px;
            color: #17a2b8; /* Azul cian vibrante */
            font-weight: bold;
            text-align: center;
        }

        button {
            display: block;
            width: 100%;
            padding: 12px; /* Más padding */
            background-color: #6f42c1; /* Púrpura vibrante */
            color: white;
            border: none;
            border-radius: 8px; /* Bordes redondeados */
            font-size: 1.2em; /* Tamaño de fuente más grande */
            cursor: pointer;
            margin-top: 25px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1); /* Sombra en botones */
        }
         button:hover {
             background-color: #5a32a3; /* Púrpura más oscuro al pasar el ratón */
         }

        #next-btn {
            background-color: #28a745; /* Verde vibrante */
        }
         #next-btn:hover {
             background-color: #218838;
         }

        #restart-btn {
             background-color: #ffc107; /* Amarillo vibrante */
             color: #212529;
        }
         #restart-btn:hover {
             background-color: #e0a800;
         }

         .disabled-options label {
             pointer-events: none; /* Deshabilita clics en opciones después de responder */
             opacity: 0.9; /* Mantener un poco más de opacidad */
         }

         /* Estilo para el texto de la fracción dentro de las opciones */
         .options label .MathJax {
             vertical-align: middle; /* Alinear verticalmente con el texto */
         }


    </style>
</head>
<body>
    <div class="container">
        <h1>Trivial Interactivo de Fracciones</h1>
        <div id="question-area">
            </div>
        <div id="feedback">
            </div>
         <button id="next-btn">Siguiente Pregunta</button>
         <button id="restart-btn">Volver a Jugar</button>
        <div id="score">
            </div>
    </div>

    <script>
        const quizData = [
            {
                question: "¿Cómo se llaman las dos partes principales de una fracción?",
                options: ["Sumando y Restando", "Numerador y Denominador", "Dividendo y Divisor", "Multiplicando y Producto"],
                correct: 1,
                explanation: "El numerador indica cuántas partes tomamos, y el denominador indica en cuántas partes iguales está dividida la unidad."
            },
            {
                question: "En la fracción \\(\\frac{5}{7}\\), ¿cuál es el numerador?",
                options: ["7", "5", "Ambos son iguales", "Ninguno"],
                correct: 1,
                explanation: "En una fracción, el número de arriba es el numerador, que nos dice cuántas partes tenemos."
            },
            {
                question: "Si tienes una pizza dividida en 8 partes iguales y te comes 3, ¿qué fracción de la pizza te has comido?",
                options: ["\\(\\frac{8}{3}\\)", "\\(\\frac{3}{8}\\)", "\\(\\frac{5}{8}\\)", "\\(\\frac{3}{5}\\)"],
                correct: 1,
                explanation: "La pizza está dividida en 8 partes (denominador) y te comes 3 (numerador), por lo tanto, la fracción es \\(\\frac{3}{8}\\)."
            },
            {
                question: "¿Cuál de estas es una fracción impropia?",
                options: ["\\(\\frac{3}{4}\\)", "\\(\\frac{1}{2}\\)", "\\(\\frac{6}{5}\\)", "\\(\\frac{2}{7}\\)"],
                correct: 2,
                explanation: "Una fracción impropia tiene el numerador mayor o igual que el denominador. En \\(\\frac{6}{5}\\), 6 es mayor que 5."
            },
            {
                question: "La fracción impropia \\(\\frac{7}{4}\\) se puede escribir como un número mixto. ¿Cuál sería?",
                options: ["\\(1 \\frac{1}{4}\\)", "\\(1 \\frac{2}{4}\\)", "\\(1 \\frac{3}{4}\\)", "\\(2 \\frac{1}{4}\\)"],
                correct: 2,
                explanation: "Para convertir \\(\\frac{7}{4}\\) a número mixto, dividimos 7 entre 4. El cociente es 1 (la parte entera), el resto es 3 (el nuevo numerador) y el denominador sigue siendo 4. Por lo tanto, es \\(1 \\frac{3}{4}\\)."
            },
            {
                question: "El número mixto \\(2 \\frac{1}{3}\\) se puede escribir como una fracción impropia. ¿Cuál sería?",
                options: ["\\(\\frac{5}{3}\\)", "\\(\\frac{6}{3}\\)", "\\(\\frac{7}{3}\\)", "\\(\\frac{21}{3}\\)"],
                correct: 2,
                explanation: "Para convertir \\(2 \\frac{1}{3}\\) a fracción impropia, multiplicamos la parte entera (2) por el denominador (3) y sumamos el numerador (1): \\(2 \\times 3 + 1 = 7\\). El denominador se mantiene, por lo que es \\(\\frac{7}{3}\\)."
            },
            {
                question: "¿Cuál de estas fracciones es equivalente a \\(\\frac{1}{3}\\)?",
                options: ["\\(\\frac{2}{5}\\)", "\\(\\frac{3}{9}\\)", "\\(\\frac{1}{6}\\)", "\\(\\frac{4}{10}\\)"],
                correct: 1,
                explanation: "Las fracciones equivalentes representan la misma cantidad. \\(\\frac{3}{9}\\) es equivalente a \\(\\frac{1}{3}\\) porque si divides el numerador (3) y el denominador (9) por 3, obtienes \\(\\frac{1}{3}\\)."
            },
            {
                question: "¿Qué fracción es mayor: \\(\\frac{2}{5}\\) o \\(\\frac{4}{5}\\)?",
                options: ["\\(\\frac{2}{5}\\)", "\\(\\frac{4}{5}\\)", "Son iguales", "No se pueden comparar"],
                correct: 1,
                explanation: "Cuando las fracciones tienen el mismo denominador, la mayor es la que tiene el numerador más grande. 4 es mayor que 2, por lo tanto \\(\\frac{4}{5}\\) es mayor que \\(\\frac{2}{5}\\)."
            },
             {
                question: "Ordena estas fracciones de menor a mayor: \\(\\frac{3}{7}\\), \\(\\frac{1}{7}\\), \\(\\frac{5}{7}\\).",
                options: ["\\(\\frac{5}{7}, \\frac{3}{7}, \\frac{1}{7}\\)", "\\(\\frac{1}{7}, \\frac{3}{7}, \\frac{5}{7}\\)", "\\(\\frac{3}{7}, \\frac{1}{7}, \\frac{5}{7}\\)", "\\(\\frac{1}{7}, \\frac{5}{7}, \\frac{3}{7}\\)"],
                correct: 1,
                explanation: "Como todas las fracciones tienen el mismo denominador (7), solo necesitamos ordenar los numeradores de menor a mayor: 1, 3, 5. Por lo tanto, el orden es \\(\\frac{1}{7}, \\frac{3}{7}, \\frac{5}{7}\\)."
            },
            {
                question: "¿Cuánto es \\(\\frac{3}{10}\\) + \\(\\frac{4}{10}\\)?",
                options: ["\\(\\frac{7}{20}\\)", "\\(\\frac{12}{100}\\)", "\\(\\frac{7}{10}\\)", "\\(\\frac{1}{10}\\)"],
                correct: 2,
                explanation: "Para sumar fracciones con el mismo denominador, sumamos los numeradores y mantenemos el denominador: \\(3 + 4 = 7\\), por lo que el resultado es \\(\\frac{7}{10}\\)."
            },
            {
                question: "¿Cuánto es \\(\\frac{9}{12}\\) - \\(\\frac{5}{12}\\)?",
                options: ["\\(\\frac{4}{0}\\)", "\\(\\frac{14}{12}\\)", "\\(\\frac{4}{12}\\)", "\\(\\frac{4}{24}\\)"],
                correct: 2,
                explanation: "Para restar fracciones con el mismo denominador, restamos los numeradores y mantenemos el denominador: \\(9 - 5 = 4\\), por lo que el resultado es \\(\\frac{4}{12}\\)."
            },
            {
                question: "¿Cuánto es \\(\\frac{1}{3}\\) de 15?",
                options: ["3", "5", "15", "45"],
                correct: 1,
                explanation: "Para calcular una fracción de una cantidad, dividimos la cantidad por el denominador y multiplicamos por el numerador: \\((15 \\div 3) \\times 1 = 5 \\times 1 = 5\\)."
            },
            {
                question: "En una caja hay 24 lápices. \\(\\frac{2}{3}\\) son rojos. ¿Cuántos lápices rojos hay?",
                options: ["8", "12", "16", "24"],
                correct: 2,
                explanation: "Para calcular \\(\\frac{2}{3}\\) de 24, dividimos 24 entre 3 y multiplicamos por 2: \\((24 \\div 3) \\times 2 = 8 \\times 2 = 16\\)."
            },
            {
                question: "Desafío: ¿Cuánto es \\(\\frac{1}{2}\\) + \\(\\frac{1}{4}\\)?",
                options: ["\\(\\frac{2}{6}\\)", "\\(\\frac{3}{4}\\)", "\\(\\frac{2}{8}\\)", "1"],
                correct: 1,
                explanation: "Para sumar fracciones con distinto denominador, buscamos un denominador común (en este caso, 4). \\(\\frac{1}{2}\\) es equivalente a \\(\\frac{2}{4}\\). Entonces, \\(\\frac{2}{4} + \\frac{1}{4} = \\frac{3}{4}\\)."
            },
            {
                question: "Desafío: ¿Qué fracción es menor: \\(\\frac{1}{2}\\) o \\(\\frac{2}{5}\\)?",
                options: ["\\(\\frac{1}{2}\\)", "\\(\\frac{2}{5}\\)", "Son iguales", "No se pueden comparar"],
                correct: 1,
                explanation: "Para comparar fracciones con distinto denominador, podemos buscar un denominador común (en este caso, 10). \\(\\frac{1}{2}\\) es \\(\\frac{5}{10}\\) y \\(\\frac{2}{5}\\) es \\(\\frac{4}{10}\\). Como 4 es menor que 5, \\(\\frac{4}{10}\\) (o \\(\\frac{2}{5}\\)) es menor que \\(\\frac{5}{10}\\) (o \\(\\frac{1}{2}\\))."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        const questionArea = document.getElementById('question-area');
        const feedbackDiv = document.getElementById('feedback');
        const scoreDiv = document.getElementById('score');
        const nextButton = document.getElementById('next-btn');
        const restartButton = document.getElementById('restart-btn');


        // Función para cargar la pregunta actual
        function loadQuestion() {
            if (currentQuestionIndex < quizData.length) {
                const questionData = quizData[currentQuestionIndex];
                const options = [];
                for (let i = 0; i < questionData.options.length; i++) {
                    options.push(
                        `<label>
                            <input type="radio" name="currentQuestion" value="${i}">
                            <span>${questionData.options[i]}</span> </label>`
                    );
                }

                // Eliminado el código para mostrar imágenes

                questionArea.innerHTML = `
                    <p>${currentQuestionIndex + 1}. ${questionData.question}</p>
                    <div class="options">
                        ${options.join('')}
                    </div>
                `;
                feedbackDiv.textContent = ''; // Limpiar feedback
                feedbackDiv.className = ''; // Limpiar clases de feedback
                 scoreDiv.textContent = `Puntuación: ${score} / ${quizData.length}`; // Mostrar puntuación y progreso
                 nextButton.style.display = 'none'; // Ocultar botón Siguiente
                 restartButton.style.display = 'none'; // Ocultar botón Reiniciar


                // Procesar las expresiones matemáticas con MathJax
                MathJax.typesetPromise([questionArea]).catch((err) => console.log('Error MathJax:', err));


                // Añadir listeners a las nuevas opciones
                addOptionListeners();

            } else {
                // Fin del trivial
                questionArea.innerHTML = '<h2>¡Trivial Terminado!</h2>';
                feedbackDiv.textContent = `Tu puntuación final es ${score} de ${quizData.length}.`;
                feedbackDiv.className = 'correct'; // Usar clase 'correct' para el mensaje final
                scoreDiv.textContent = ''; // Limpiar puntuación durante el juego
                nextButton.style.display = 'none';
                restartButton.style.display = 'block'; // Mostrar botón Reiniciar

            }
        }

        // Función para añadir listeners a las opciones de la pregunta actual
        function addOptionListeners() {
            const options = questionArea.querySelectorAll('input[name="currentQuestion"]');
            options.forEach(option => {
                option.addEventListener('change', handleAnswer);
            });
        }

        // Función para manejar la respuesta seleccionada
        function handleAnswer(event) {
            const selectedOptionIndex = parseInt(event.target.value);
            const questionData = quizData[currentQuestionIndex];
            const optionsLabels = questionArea.querySelectorAll('.options label');
             const optionsInputs = questionArea.querySelectorAll('.options input[type="radio"]');


            // Deshabilitar las opciones después de seleccionar una
            optionsInputs.forEach(input => input.disabled = true);
            questionArea.querySelector('.options').classList.add('disabled-options');


            if (selectedOptionIndex === questionData.correct) {
                feedbackDiv.textContent = '¡Correcto!';
                feedbackDiv.className = 'correct'; // Clase para feedback correcto
                 optionsLabels[selectedOptionIndex].style.backgroundColor = '#d4edda'; // Verde suave
                 optionsLabels[selectedOptionIndex].style.borderColor = '#28a745';
                 optionsLabels[selectedOptionIndex].style.color = '#155724';


            } else {
                feedbackDiv.textContent = 'Incorrecto.';
                feedbackDiv.className = 'incorrect'; // Clase para feedback incorrecto
                 optionsLabels[selectedOptionIndex].style.backgroundColor = '#f8d7da'; // Rojo suave
                 optionsLabels[selectedOptionIndex].style.borderColor = '#dc3545';
                 optionsLabels[selectedOptionIndex].style.color = '#721c24';

                // Marcar la respuesta correcta
                 optionsLabels[questionData.correct].style.backgroundColor = '#ffc107'; // Amarillo
                 optionsLabels[questionData.correct].style.borderColor = '#d39e00';
                 optionsLabels[questionData.correct].style.color = '#212529';

            }

            // Mostrar la explicación
            const explanationDiv = document.createElement('div');
            explanationDiv.id = 'explanation';
            explanationDiv.innerHTML = `<strong>Explicación:</strong> ${questionData.explanation}`;
            questionArea.appendChild(explanationDiv);

            // Procesar MathJax en la explicación si la hay
            MathJax.typesetPromise([explanationDiv]).catch((err) => console.log('Error MathJax en explicación:', err));


             scoreDiv.textContent = `Puntuación: ${score} / ${quizData.length}`; // Actualizar puntuación

            nextButton.style.display = 'block'; // Mostrar botón Siguiente

        }

        // Función para pasar a la siguiente pregunta
        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
             // Asegurarse de que los inputs estén habilitados para la nueva pregunta
             const optionsInputs = questionArea.querySelectorAll('.options input[type="radio"]');
             optionsInputs.forEach(input => input.disabled = false);

        }

        // Función para reiniciar el trivial
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            loadQuestion();
            resultsDiv.textContent = ''; // Limpiar resultados finales
             // Asegurarse de que las opciones estén habilitadas al reiniciar
             const optionsInputs = questionArea.querySelectorAll('.options input[type="radio"]');
             optionsInputs.forEach(input => input.disabled = false);
             questionArea.querySelector('.options').classList.remove('disabled-options');
        }


        // Iniciar el trivial al cargar la página
        window.onload = loadQuestion;

        // Añadir evento al botón Siguiente
        nextButton.addEventListener('click', nextQuestion);

        // Añadir evento al botón Reiniciar
        restartButton.addEventListener('click', restartQuiz);


    </script>
</body>
</html>